<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>批量评价</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.css" rel="stylesheet" />
		<style type="text/css">
			body{
				background: #F2F2F2;
			}
			[v-cloak] {
				visibility: hidden;
			}
			.line{
				background-color: #f2f3f5;
				height: 10px;
				margin-top: 10px;
			}
			
			.title-first {
				margin:2px 0 10px;
			    color: #FF9933;
			    font-size: 15px;
			    background: #F2F2F2;
			    padding: 5px 15px;
			}
			
			.title {
				margin:10px 0 10px;
			    color: #FF9933;
			    font-size: 15px;
			    background: #F2F2F2;
			    padding: 5px 15px;
			}
			
			.title-last {
				margin:10px 0 10px;
			    color: #999999;
			    font-size: 15px;
			    background: #F2F2F2;
			    padding: 5px 15px;
			    font-size: 14px;
			}
			
			.zt{
			    font-size: 15px;
			    text-align: left;
			    margin: 0 15px;
			    color: #3E4B53;
			    float: left;
			}
			.zt-btn{
				float: right;
				right: 15px;
				margin-top: -5px;
				background-color: #00CFBD;
				border-color:#00CFBD ;
			}
			input[type=text]{
				margin: 0px;
				border: 0;
				font-size: 15px;
			    color: #3E4B53;
			}
			.mui-checkbox.mui-left input[type=checkbox], .mui-radio.mui-left input[type=radio] {
			    left: 20px;
			    margin:3px 0 0 5px;
			}
			
			.mui-radio input[type=radio]:before{
				content: '\e441';
			    font-size:22px ;
			}
			.mui-radio input[type=radio]:checked:before {
			    content: '\e441';
			    font-size:22px ;
			    color: #00CFBD ;
			}
			
			.mui-checkbox input[type=checkbox]:before{
				content: '\e411' ;
			    font-size:22px ;
			}
			.mui-checkbox input[type=checkbox]:checked:before {
			    content: '\e442';
			    font-size:22px ;
			    color: #00CFBD ;
			}
			.mui-input-row>.mui-col>label{
				font-size: 14px;
			}
			.check-label{
				padding-left:30px !important;
				padding-right: 0px !important;
			}
			
			.mui-input-group:before {
			    height: 0;
			}
			
			input[type=text]{
				margin: 5px 0;
				border: 0;
				font-size: 15px;
			    color: #3E4B53;
			}
			textarea::-webkit-input-placeholder,input::-webkit-input-placeholder {
	        	font-size: 14px;
     		}
			textarea{
				font-size: 15px;
				width: 100%;
				padding: 5px 15px 0;
				border-top:1px solid rgba(0,0,0,.2);
				border-left:0px;
				border-right:0px;
				border-bottom:0px;
			}
		</style>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav" style="background-color:#00CFBD;" id="tempVue">
			<a onclick="mui.back()" class="mui-icon mui-icon-left-nav mui-pull-left" style="color: white;"></a>
			<h1 class="mui-title" style="color: white;">批量评价</h1>
			<a v-if="headFlag ==0" class="mui-pull-right" style="color: white;font-size: 15px;margin-top: 10px;" onclick="submit()">提交</a>
		</header>
		<div class="mui-content" style="background: white;">
			<div id="detail">
				<div class="mui-row">
					<input name="score" value="" type="text" placeholder="请输入分数（0-100），允许小数点后一位"  onkeyup="clearNoNum(this)">
				</div>
				<div class="mui-row">
					<textarea name="critique" value="" rows="5" placeholder="请输入评价评价内容（最多2000字）" style="margin-bottom: 0;"></textarea>
				</div>
				<div class="title iconfont-checkbox ">
					请选择学生	
				</div>
				<div class="mui-row">
					<div class="mui-input-row mui-checkbox mui-left">
					    	<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox0" class="check-label">全选</label>
					   			<input name="checkbox0" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
					</div>
					<div class="mui-input-row mui-checkbox mui-left">
					    	<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张一</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张二</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张三</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张四</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王一</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王二</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王三</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">隔壁老王</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">降央卓玛</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">馹圈哦</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">魑魅魍魉</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">囊囊囊</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">哈哈哈</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">测试</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张一</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张二</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张三</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">张四</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王一</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王二</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">王三</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">隔壁老王</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">降央卓玛</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">馹圈哦</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">魑魅魍魉</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">囊囊囊</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">哈哈哈</label>
					   			<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;">
							</div>
							<div class="mui-col mui-col-xs-3" style="float: left;">
								<label for="checkbox1" class="check-label">测试</label>
					    		<input name="checkbox1" value="Item 1" type="checkbox" style="left: 0px;" >
							</div>
					</div>
				</div>
				<div class="title-last">
					*只有未登记的学生才可以只用“批量登记”
				</div>
			</div>
		</div>
		<script src="../../js/slide/mui.min.js"></script>
		<script src="../../js/utils/vue.min.js"></script>
		<script src="../../js/utils/vconsole.min.js"></script>
		<script src="../../js/libs/jquery.js"></script>
		<script src="../../js/utils/events.js"></script>
		<script src="../../js/utils/utils.js"></script>
		<script src="../../js/utils/store.js"></script>
		<script src="../../js/storageKeyName.js"></script>
		<script src="../../js/mui.zoom.js"></script>
		<script src="../../js/mui.previewimage.js"></script>
		<script src="../../js/studentManage/studentManagePermission.js"></script>
		<script src="../../js/publicProtocol-studentManage.js"></script>
		<script type="text/javascript">
			mui.init({
				swipeBack: false
			});
			
			var	homeworkDetail = utils.getDataFromUrl(window.location.href);
			
			mui.plusReady(function() {
				 getBatchCorrect();
			});
			var detail = new Vue({
				el: "#detail",  
				data: {
					more:true,
					btnText:'more'
				},
				methods: {
					previous:function(){
						console.log("123")
					},
					next:function(){
						console.log("456")
					}
				}
			});
			
		//获取已批未批统计学生
		function getBatchCorrect(){
			var comData ={
				classId:homeworkDetail.classId,//班级ID
				homeworkId:homeworkDetail.id//作业ID
			};
			console.log('comData=='+JSON.stringify(comData));
			var wd = events.showWaiting();
			hwTeacheroBatchCorrect(comData, function(data) {
				wd.close();
				if(data.RspCode == 0) {
					console.log('批量评价学生信息:' + JSON.stringify(data));
				} else {
					mui.toast(data.msg);
				}
			});
		}
		
		//只保留小数点后一位
		function clearNoNum(obj){ 
		    obj.value = obj.value.replace(/[^\d.]/g,"");  //清除“数字”和“.”以外的字符  
		    obj.value = obj.value.replace(/\.{2,}/g,"."); //只保留第一个. 清除多余的  
		    obj.value = obj.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."); 
		    obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d).*$/,'$1$2.$3');//只能输入两个小数  
		    if(obj.value.indexOf(".")< 0 && obj.value !=""){//以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额 
		    	if(parseFloat(obj.value)>100){
		    		obj.value= 100;	
		    	}else{
		    		obj.value= parseFloat(obj.value);
		    	}
	        	
		    } 
		} 
		</script>
	</body>

</html>